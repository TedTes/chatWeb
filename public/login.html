<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta http-equiv="X-UA-Compatible" content="ie=edge" />
		<link
			rel="stylesheet"
			href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css"
			integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk="
			crossorigin="anonymous"
		/>
		<link rel="stylesheet" href="css/styles.css" />
		<title>ChatWeb App</title>
	</head>
	<body>
    <div class="login-layout">
		<div class="join-container">
			<header class="join-header">
                <h3>Login</h3><h1><i class="fas fa-comments"></i> ChatWeb</h1>
            </header>
            <main class="join-main ">
                    <form name="login" action="/login" method="post">
                        <div class="form-control">
                            <label style="margin-bottom:1.2em; height:10px;" name="message" id="message"></label>
                            <input type="hidden" id="gn" value='' name="groupName"/>
                            <label for="username">Username</label>
                            <input 
                                type="text"
                                name="username"
                                id="username"
                                placeholder="Enter username..."
                                required
                            />
                            <label for="password">Password</label>
                            <input 
                                type="password"
                                name="password"
                                id="password"
                                placeholder="Enter password..."
                                required
                            />
                        </div>
                       <div class="login-btns"><button type="submit" class="btn" onClick='redirect()'>Cancel</button>
                        <button type="button" value="Submit" class="btn" onclick="validateLogin()">Login</button></div> 
                       </form>
                     <div style="font-size:.9em; margin-top:.7em;"><span >Don't have an account?&nbsp;</span><a href="/register.html">register</a></div>
                </main>
            </div>
                <div class="social-btns">
                    <a href='https://chattappln.herokuapp.com/auth/google'>Login With Google</a>
                    <!-- <a href='http://localhost:3000/auth/google'>Login With Google</a> -->
                    <a href='https://chattappln.herokuapp.com/auth/linkedin'>Login With Linkedin</a>
                    <!-- <a href='http://localhost:3000/auth/linkedin'>Login With Linkedin</a> -->
                 </div>
          </div>
          <script>
              function redirect(){
                  location.href="/index.html?username="
                   }
              function validateLogin(){
                const forms=document.forms.login;
                  const username=forms.username.value;
                  const password=forms.password.value;
                  const message=document.getElementById("message");
                  if(password==='' || username ==='')
                  {
                    message.innerHTML=`<p style="color:red;font-size:.8em; font-weight:bold; margin:0; padding:0;">please enter valid username or password</p>`
                  return false;
                  }
                  forms.submit();
                  forms.reset();
              }
          </script>
         
	</body>
</html>
